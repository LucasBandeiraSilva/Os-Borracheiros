<!DOCTYPE html>
<html lang="pt-br" xmlns:th="http://www.thymeleaf.org">
  <head>
    <meta charset="UTF-8" />
    <title>Resumo do Pedido</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN"
      crossorigin="anonymous"
    />
    <link rel="stylesheet" href="/ResumoPedido.css" />
  </head>
  <body>
    <h2>Itens do Carrinho</h2>
    <table class="table table-bordered text-center">
      <thead>
        <tr>
          <th>Nome do Produto</th>
          <th>Quantidade</th>
          <th>Acções</th>
          <th>Preço</th>
          <th>Imagem</th>
        </tr>
      </thead>
      <tbody>
        <tr th:each="item : ${carrinhos}">
          <td th:text="${item.nome}"></td>
          <td>
            <span class="ms-4" th:text="${item.quantidade}"></span>
          </td>
          <td>
            <a
              class="btn btn-success"
              th:href="@{'/cliente/adicionarUm/'+ ${item.id}}"
              >+1</a
            >
            <a
              class="btn btn-warning"
              th:href="@{'/cliente/removeUm/'+ ${item.id}}"
              >-1</a
            >
            <a
              class="btn btn-danger"
              th:href="@{'/cliente/deletar/'+ ${item.id}}"
              >remover do carrinho</a
            >
          </td>

          <td th:text="${item.preco}"></td>
          <td>
            <img
              th:each="produto : ${produtosComImagem}"
              th:if="${produto.nome == item.nome}"
              th:src="@{/imagem/{id}(id=${produto.id})}"
              alt="Imagem do Produto"
              style="height: 100px; width: 100px"
            />
          </td>
        </tr>
      </tbody>
    </table>

    <div
      class="d-flex row justify-content-around align-items-center g-2 border"
    >
      <div class="col">
        <h3>
          Frete dos Produtos R$
          <span class="badge text-bg-primary" th:text="${totalFrete}"></span>
        </h3>
        <h3 class="ms-3">
          Total de Itens R$
          <span class="badge text-bg-primary" th:text="${totalItens}"></span>
        </h3>
      </div>

      

      <div class="col-md-auto me-3">
        <a class="btn btn-outline-success" id="btn" th:href="@{/}">avancar</a>
      </div>
    </div>

    <script src="/CheckoutFrete.js"></script>
  </body>
</html>
